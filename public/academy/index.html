<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Soulfra Academy | Learn to Code</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: #0a0a0a;
      color: #e0e0e0;
      line-height: 1.6;
    }

    .header {
      background: linear-gradient(135deg, #1a1a1a 0%, #2d0a0a 100%);
      border-bottom: 2px solid #ff0000;
      padding: 40px 20px;
      text-align: center;
    }

    .header h1 {
      color: #ff0000;
      font-size: 3em;
      margin-bottom: 10px;
      text-shadow: 0 0 20px rgba(255, 0, 0, 0.5);
    }

    .header p {
      color: #999;
      font-size: 1.3em;
      margin-bottom: 20px;
    }

    .header .subtitle {
      color: #ff6666;
      font-size: 1.1em;
      font-style: italic;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 20px;
    }

    .progress-overview {
      background: rgba(255, 0, 0, 0.1);
      border: 1px solid rgba(255, 0, 0, 0.3);
      border-radius: 12px;
      padding: 30px;
      margin-bottom: 40px;
    }

    .progress-overview h2 {
      color: #ff0000;
      margin-bottom: 20px;
    }

    .progress-bar {
      background: rgba(0, 0, 0, 0.5);
      border-radius: 10px;
      height: 30px;
      overflow: hidden;
      margin-bottom: 15px;
    }

    .progress-fill {
      background: linear-gradient(90deg, #ff0000, #ff6666);
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      transition: width 0.5s ease;
    }

    .stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .stat-card {
      background: rgba(0, 0, 0, 0.3);
      padding: 20px;
      border-radius: 8px;
      text-align: center;
    }

    .stat-card .number {
      font-size: 2.5em;
      color: #ff0000;
      font-weight: bold;
    }

    .stat-card .label {
      color: #999;
      margin-top: 5px;
    }

    .lessons-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 30px;
      margin-top: 40px;
    }

    .lesson-card {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 0, 0, 0.2);
      border-radius: 12px;
      padding: 30px;
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .lesson-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #ff0000, transparent);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .lesson-card:hover {
      background: rgba(255, 0, 0, 0.1);
      border-color: rgba(255, 0, 0, 0.5);
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(255, 0, 0, 0.2);
    }

    .lesson-card:hover::before {
      opacity: 1;
    }

    .lesson-card.locked {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .lesson-card.locked:hover {
      transform: none;
      box-shadow: none;
    }

    .lesson-number {
      display: inline-block;
      background: rgba(255, 0, 0, 0.2);
      color: #ff0000;
      padding: 5px 15px;
      border-radius: 20px;
      font-size: 0.9em;
      font-weight: bold;
      margin-bottom: 15px;
    }

    .lesson-card.completed .lesson-number {
      background: rgba(0, 255, 0, 0.2);
      color: #00ff00;
    }

    .lesson-card.locked .lesson-number {
      background: rgba(100, 100, 100, 0.2);
      color: #666;
    }

    .lesson-title {
      font-size: 1.5em;
      color: #ff6666;
      margin-bottom: 15px;
      font-weight: bold;
    }

    .lesson-card.completed .lesson-title {
      color: #00ff00;
    }

    .lesson-card.locked .lesson-title {
      color: #666;
    }

    .lesson-description {
      color: #999;
      margin-bottom: 20px;
      line-height: 1.5;
    }

    .lesson-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 20px;
      padding-top: 20px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .lesson-duration {
      color: #666;
      font-size: 0.9em;
    }

    .lesson-status {
      padding: 5px 15px;
      border-radius: 20px;
      font-size: 0.85em;
      font-weight: bold;
    }

    .lesson-status.completed {
      background: rgba(0, 255, 0, 0.2);
      color: #00ff00;
    }

    .lesson-status.in-progress {
      background: rgba(255, 165, 0, 0.2);
      color: #ffaa00;
    }

    .lesson-status.locked {
      background: rgba(100, 100, 100, 0.2);
      color: #666;
    }

    .lesson-status.available {
      background: rgba(255, 0, 0, 0.2);
      color: #ff0000;
    }

    .cta-section {
      text-align: center;
      margin-top: 60px;
      padding: 40px;
      background: rgba(255, 0, 0, 0.1);
      border: 1px solid rgba(255, 0, 0, 0.3);
      border-radius: 12px;
    }

    .cta-section h2 {
      color: #ff0000;
      margin-bottom: 20px;
    }

    .cta-button {
      display: inline-block;
      background: linear-gradient(135deg, #ff0000, #cc0000);
      color: white;
      padding: 15px 40px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: bold;
      font-size: 1.1em;
      transition: all 0.3s ease;
      box-shadow: 0 5px 15px rgba(255, 0, 0, 0.3);
    }

    .cta-button:hover {
      background: linear-gradient(135deg, #cc0000, #990000);
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(255, 0, 0, 0.4);
    }

    .lock-icon {
      font-size: 2em;
      color: #666;
      margin-bottom: 10px;
    }

    @media (max-width: 768px) {
      .lessons-grid {
        grid-template-columns: 1fr;
      }

      .header h1 {
        font-size: 2em;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>üîê Soulfra Academy</h1>
    <p>Learn to Code with Your Own Codebase</p>
    <p class="subtitle">CryptoZombies-style tutorials using real Soulfra code</p>
  </div>

  <div class="container">
    <!-- Progress Overview -->
    <div class="progress-overview">
      <h2>Your Progress</h2>
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill" style="width: 0%">
          <span id="progressText">0% Complete</span>
        </div>
      </div>
      <div class="stats">
        <div class="stat-card">
          <div class="number" id="completedCount">0</div>
          <div class="label">Lessons Completed</div>
        </div>
        <div class="stat-card">
          <div class="number" id="totalLessons">4</div>
          <div class="label">Total Lessons</div>
        </div>
        <div class="stat-card">
          <div class="number" id="xpEarned">0</div>
          <div class="label">XP Earned</div>
        </div>
        <div class="stat-card">
          <div class="number" id="streak">0</div>
          <div class="label">Day Streak</div>
        </div>
      </div>
    </div>

    <!-- Lessons Grid -->
    <div class="lessons-grid">
      <!-- Lesson 1: Database Pools -->
      <div class="lesson-card" data-lesson="1" data-xp="100" onclick="startLesson(1)">
        <div class="lesson-number">LESSON 1</div>
        <h3 class="lesson-title">Database Pools 101</h3>
        <p class="lesson-description">
          Learn how connection pools work by exploring pools-101.html. Build your first pool manager and understand why they're critical for performance.
        </p>
        <div class="lesson-meta">
          <span class="lesson-duration">‚è±Ô∏è 15-20 minutes</span>
          <span class="lesson-status available">START</span>
        </div>
      </div>

      <!-- Lesson 2: GitHub Workflow -->
      <div class="lesson-card locked" data-lesson="2" data-xp="150">
        <div class="lock-icon">üîí</div>
        <div class="lesson-number">LESSON 2</div>
        <h3 class="lesson-title">GitHub Workflow Automation</h3>
        <p class="lesson-description">
          Explore auto-deploy.sh and learn how to automate your GitHub workflow. Build your own deployment script from scratch.
        </p>
        <div class="lesson-meta">
          <span class="lesson-duration">‚è±Ô∏è 20-25 minutes</span>
          <span class="lesson-status locked">LOCKED</span>
        </div>
      </div>

      <!-- Lesson 3: Brand Architecture -->
      <div class="lesson-card locked" data-lesson="3" data-xp="200">
        <div class="lock-icon">üîí</div>
        <div class="lesson-number">LESSON 3</div>
        <h3 class="lesson-title">Multi-Brand Architecture</h3>
        <p class="lesson-description">
          Dive into the 12-brand system. Learn how Soulfra, Calriven, and DeathtoData work together. Build your own brand router.
        </p>
        <div class="lesson-meta">
          <span class="lesson-duration">‚è±Ô∏è 30-35 minutes</span>
          <span class="lesson-status locked">LOCKED</span>
        </div>
      </div>

      <!-- Lesson 4: Agent Router -->
      <div class="lesson-card locked" data-lesson="4" data-xp="250">
        <div class="lock-icon">üîí</div>
        <div class="lesson-number">LESSON 4</div>
        <h3 class="lesson-title">CALOS Agent Router</h3>
        <p class="lesson-description">
          Explore the full CALOS system. Understand how Cal makes decisions, routes requests, and orchestrates multiple AI models.
        </p>
        <div class="lesson-meta">
          <span class="lesson-duration">‚è±Ô∏è 40-45 minutes</span>
          <span class="lesson-status locked">LOCKED</span>
        </div>
      </div>
    </div>

    <!-- Call to Action -->
    <div class="cta-section">
      <h2>Ready to Start Learning?</h2>
      <p style="color: #999; margin-bottom: 30px;">
        Click on Lesson 1 above to begin your coding journey with real-world Soulfra code.
      </p>
      <a href="#" class="cta-button" onclick="startLesson(1); return false;">Start Lesson 1</a>
    </div>
  </div>

  <script>
    // Load progress from localStorage
    function loadProgress() {
      const progress = JSON.parse(localStorage.getItem('academy_progress') || '{}');
      return {
        completed: progress.completed || [],
        inProgress: progress.inProgress || null,
        xp: progress.xp || 0,
        streak: progress.streak || 0,
        lastVisit: progress.lastVisit || null
      };
    }

    // Save progress to localStorage
    function saveProgress(progress) {
      localStorage.setItem('academy_progress', JSON.stringify(progress));
    }

    // Update UI based on progress
    function updateUI() {
      const progress = loadProgress();
      const totalLessons = document.querySelectorAll('.lesson-card').length;
      const completedCount = progress.completed.length;
      const percentage = Math.round((completedCount / totalLessons) * 100);

      // Update progress bar
      document.getElementById('progressFill').style.width = percentage + '%';
      document.getElementById('progressText').textContent = percentage + '% Complete';

      // Update stats
      document.getElementById('completedCount').textContent = completedCount;
      document.getElementById('totalLessons').textContent = totalLessons;
      document.getElementById('xpEarned').textContent = progress.xp;
      document.getElementById('streak').textContent = progress.streak;

      // Update lesson cards
      document.querySelectorAll('.lesson-card').forEach(card => {
        const lessonNum = parseInt(card.dataset.lesson);

        if (progress.completed.includes(lessonNum)) {
          // Completed
          card.classList.remove('locked');
          card.classList.add('completed');
          card.querySelector('.lesson-status').classList.remove('available', 'locked');
          card.querySelector('.lesson-status').classList.add('completed');
          card.querySelector('.lesson-status').textContent = '‚úì COMPLETED';
        } else if (lessonNum === 1 || progress.completed.includes(lessonNum - 1)) {
          // Available (lesson 1 or previous lesson completed)
          card.classList.remove('locked', 'completed');
          card.querySelector('.lesson-status').classList.remove('locked');
          card.querySelector('.lesson-status').classList.add('available');
          card.querySelector('.lesson-status').textContent = 'START';
          card.onclick = () => startLesson(lessonNum);
        } else {
          // Locked
          card.classList.add('locked');
          card.onclick = null;
        }
      });

      // Update streak
      updateStreak();
    }

    // Update streak based on last visit
    function updateStreak() {
      const progress = loadProgress();
      const today = new Date().toDateString();

      if (progress.lastVisit) {
        const lastVisit = new Date(progress.lastVisit).toDateString();
        const yesterday = new Date(Date.now() - 86400000).toDateString();

        if (lastVisit === yesterday) {
          // Visited yesterday, increment streak
          progress.streak++;
          progress.lastVisit = new Date().toISOString();
          saveProgress(progress);
        } else if (lastVisit !== today) {
          // Missed a day, reset streak
          progress.streak = 1;
          progress.lastVisit = new Date().toISOString();
          saveProgress(progress);
        }
      } else {
        // First visit
        progress.streak = 1;
        progress.lastVisit = new Date().toISOString();
        saveProgress(progress);
      }
    }

    // Start a lesson
    function startLesson(lessonNum) {
      const progress = loadProgress();

      // Check if unlocked
      if (lessonNum !== 1 && !progress.completed.includes(lessonNum - 1)) {
        alert('Complete the previous lesson first!');
        return;
      }

      // Set as in progress
      progress.inProgress = lessonNum;
      saveProgress(progress);

      // Navigate to lesson
      const lessonUrls = {
        1: '../../learn/pools-101.html',
        2: '../../learn/pools-102.html',
        3: '../../learn/pools-103.html',
        4: '../../learn/index.html'
      };

      window.location.href = lessonUrls[lessonNum];
    }

    // Initialize on load
    updateUI();
  </script>
</body>
</html>
