<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß† Soulfra Semantic Intelligence - NEO4J Knowledge Graph</title>
    
    <!-- D3.js for graph visualization -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'JetBrains Mono', 'Courier New', monospace;
            background: radial-gradient(circle at center, #0a0a0a 0%, #1a0a2e 50%, #16213e 100%);
            color: #00ff41;
            overflow: hidden;
            height: 100vh;
        }
        
        .dashboard-container {
            display: grid;
            grid-template-columns: 300px 1fr 350px;
            grid-template-rows: 80px 1fr 150px;
            height: 100vh;
            gap: 10px;
            padding: 10px;
        }
        
        .header {
            grid-column: 1 / -1;
            background: linear-gradient(135deg, rgba(0, 255, 65, 0.1) 0%, rgba(102, 51, 153, 0.1) 100%);
            border: 2px solid #00ff41;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 30px;
            backdrop-filter: blur(10px);
        }
        
        .header h1 {
            font-size: 24px;
            background: linear-gradient(45deg, #00ff41, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: titleGlow 3s ease-in-out infinite;
        }
        
        @keyframes titleGlow {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.3); }
        }
        
        .system-status {
            display: flex;
            gap: 20px;
            align-items: center;
        }
        
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid #00ff41;
            border-radius: 20px;
            font-size: 12px;
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #00ff41;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.2); }
        }
        
        .sidebar {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #663399;
            border-radius: 15px;
            padding: 20px;
            overflow-y: auto;
        }
        
        .sidebar h3 {
            color: #663399;
            margin-bottom: 15px;
            font-size: 16px;
            text-align: center;
            border-bottom: 1px solid #663399;
            padding-bottom: 10px;
        }
        
        .query-panel {
            margin-bottom: 25px;
        }
        
        .cypher-query {
            background: #0a0a0a;
            border: 1px solid #00ff41;
            border-radius: 8px;
            padding: 15px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 11px;
            color: #00ff41;
            margin-bottom: 10px;
            overflow-x: auto;
            white-space: pre-wrap;
        }
        
        .query-result {
            background: rgba(0, 255, 65, 0.1);
            border: 1px solid #00ff41;
            border-radius: 5px;
            padding: 10px;
            font-size: 10px;
            margin-bottom: 15px;
        }
        
        .metrics-panel {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .metric-card {
            background: rgba(102, 51, 153, 0.2);
            border: 1px solid #663399;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }
        
        .metric-value {
            font-size: 20px;
            color: #ff6b6b;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .metric-label {
            font-size: 10px;
            color: #cccccc;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .graph-container {
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid #00ff41;
            border-radius: 15px;
            position: relative;
            overflow: hidden;
        }
        
        .graph-svg {
            width: 100%;
            height: 100%;
        }
        
        .node {
            stroke: #00ff41;
            stroke-width: 2px;
            cursor: pointer;
        }
        
        .node.user { fill: #ff6b6b; }
        .node.business { fill: #4ecdc4; }
        .node.event { fill: #ffeb3b; }
        .node.gladiator { fill: #ff9800; }
        .node.prediction { fill: #9c27b0; }
        .node.emotion { fill: #e91e63; }
        
        .link {
            stroke: #666;
            stroke-opacity: 0.6;
            stroke-width: 1.5px;
        }
        
        .link.strong { stroke: #00ff41; stroke-width: 3px; }
        .link.prediction { stroke: #ff6b6b; stroke-width: 2px; }
        .link.emotion { stroke: #e91e63; stroke-width: 2px; }
        
        .node-label {
            font-family: 'JetBrains Mono', monospace;
            font-size: 10px;
            fill: #ffffff;
            text-anchor: middle;
            pointer-events: none;
        }
        
        .analytics-panel {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #ff6b6b;
            border-radius: 15px;
            padding: 20px;
            overflow-y: auto;
        }
        
        .analytics-panel h3 {
            color: #ff6b6b;
            margin-bottom: 15px;
            font-size: 16px;
            text-align: center;
            border-bottom: 1px solid #ff6b6b;
            padding-bottom: 10px;
        }
        
        .algorithm-status {
            margin-bottom: 20px;
        }
        
        .algorithm-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .algorithm-name {
            font-size: 11px;
            color: #cccccc;
        }
        
        .algorithm-performance {
            font-size: 11px;
            color: #00ff41;
            font-weight: bold;
        }
        
        .terminal-log {
            grid-column: 1 / -1;
            background: #000000;
            border: 2px solid #00ff41;
            border-radius: 15px;
            padding: 15px;
            overflow-y: auto;
            font-family: 'JetBrains Mono', monospace;
            font-size: 11px;
        }
        
        .log-entry {
            margin-bottom: 3px;
            animation: logSlide 0.3s ease-out;
        }
        
        @keyframes logSlide {
            0% { opacity: 0; transform: translateX(-20px); }
            100% { opacity: 1; transform: translateX(0); }
        }
        
        .log-entry.info { color: #00ff41; }
        .log-entry.warning { color: #ffeb3b; }
        .log-entry.error { color: #ff6b6b; }
        .log-entry.success { color: #4caf50; }
        .log-entry.query { color: #2196f3; }
        
        .clustering-viz {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 200px;
            height: 150px;
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid #00ff41;
            border-radius: 8px;
            padding: 10px;
        }
        
        .cluster-info {
            font-size: 10px;
            margin-bottom: 8px;
        }
        
        .cluster-bar {
            height: 6px;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4, #ffeb3b);
            border-radius: 3px;
            margin-bottom: 5px;
            animation: clusterGrow 2s ease-in-out infinite;
        }
        
        @keyframes clusterGrow {
            0%, 100% { width: 80%; }
            50% { width: 95%; }
        }
        
        .performance-monitor {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0, 0, 0, 0.9);
            border: 1px solid #ff6b6b;
            border-radius: 8px;
            padding: 15px;
            min-width: 180px;
        }
        
        .performance-metric {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 11px;
        }
        
        .performance-value {
            color: #00ff41;
            font-weight: bold;
        }
        
        .neural-activity {
            position: absolute;
            bottom: 10px;
            right: 10px;
            width: 150px;
            height: 100px;
            background: rgba(0, 0, 0, 0.9);
            border: 1px solid #9c27b0;
            border-radius: 8px;
            padding: 10px;
        }
        
        .activity-wave {
            width: 100%;
            height: 60px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(156, 39, 176, 0.3) 25%, 
                rgba(156, 39, 176, 0.7) 50%, 
                rgba(156, 39, 176, 0.3) 75%, 
                transparent 100%);
            border-radius: 4px;
            animation: neuralWave 3s ease-in-out infinite;
        }
        
        @keyframes neuralWave {
            0%, 100% { transform: scaleX(1) scaleY(0.8); }
            50% { transform: scaleX(1.2) scaleY(1); }
        }
        
        .mini-graph {
            width: 100%;
            height: 80px;
            margin: 10px 0;
        }
        
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.95);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }
        
        .loading-content {
            text-align: center;
            color: #00ff41;
        }
        
        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 3px solid rgba(0, 255, 65, 0.3);
            border-top: 3px solid #00ff41;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .hidden {
            opacity: 0;
            visibility: hidden;
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h2>üß† Initializing Semantic Intelligence</h2>
            <p id="loadingText">Connecting to NEO4J knowledge graph...</p>
        </div>
    </div>
    
    <!-- Main Dashboard -->
    <div class="dashboard-container">
        <!-- Header -->
        <div class="header">
            <h1>üß† SOULFRA SEMANTIC INTELLIGENCE</h1>
            <div class="system-status">
                <div class="status-indicator">
                    <div class="status-dot"></div>
                    <span>Neo4j Connected</span>
                </div>
                <div class="status-indicator">
                    <div class="status-dot"></div>
                    <span>AI Models Active</span>
                </div>
                <div class="status-indicator">
                    <div class="status-dot"></div>
                    <span>Real-time Processing</span>
                </div>
            </div>
        </div>
        
        <!-- Left Sidebar -->
        <div class="sidebar">
            <h3>üîç Live Cypher Queries</h3>
            
            <div class="query-panel">
                <div class="cypher-query" id="cypherQuery1">
MATCH (u:User)-[r:BETS_ON]->(p:Prediction)
WHERE p.sport = 'basketball'
RETURN u.trust_score, 
       COUNT(r) as bet_count,
       AVG(r.emotional_intensity) as avg_emotion
ORDER BY u.trust_score DESC
LIMIT 10
                </div>
                <div class="query-result" id="queryResult1">
                    ‚úÖ 10 rows returned in 0.23ms
                </div>
            </div>
            
            <div class="query-panel">
                <div class="cypher-query" id="cypherQuery2">
MATCH (g:Gladiator)-[f:FIGHTS_IN]->(a:Arena)
WHERE a.location = 'NYC'
WITH g, COUNT(f) as fight_count
MATCH (g)-[w:WINS]->(o:Opponent)
RETURN g.name, fight_count, 
       COUNT(w) as wins,
       (COUNT(w) * 100.0 / fight_count) as win_rate
ORDER BY win_rate DESC
                </div>
                <div class="query-result" id="queryResult2">
                    ‚úÖ 47 gladiators analyzed
                </div>
            </div>
            
            <h3>üìä Cluster Metrics</h3>
            <div class="metrics-panel">
                <div class="metric-card">
                    <div class="metric-value" id="nodeCount">0</div>
                    <div class="metric-label">Total Nodes</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="relationshipCount">0</div>
                    <div class="metric-label">Relationships</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="clusterCount">0</div>
                    <div class="metric-label">Active Clusters</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="embeddingDim">768</div>
                    <div class="metric-label">Embedding Dim</div>
                </div>
            </div>
            
            <h3>üéØ Model Performance</h3>
            <div class="mini-graph" id="performanceGraph"></div>
        </div>
        
        <!-- Central Graph Visualization -->
        <div class="graph-container">
            <svg class="graph-svg" id="graphSvg"></svg>
            
            <!-- Overlays -->
            <div class="performance-monitor">
                <h4 style="color: #ff6b6b; margin-bottom: 10px; font-size: 12px;">‚ö° Real-time Performance</h4>
                <div class="performance-metric">
                    <span>Graph Queries/sec:</span>
                    <span class="performance-value" id="queryPerf">847</span>
                </div>
                <div class="performance-metric">
                    <span>Embedding Updates:</span>
                    <span class="performance-value" id="embeddingPerf">12.3k</span>
                </div>
                <div class="performance-metric">
                    <span>Memory Usage:</span>
                    <span class="performance-value" id="memoryUsage">64%</span>
                </div>
                <div class="performance-metric">
                    <span>Clustering Accuracy:</span>
                    <span class="performance-value" id="clusterAccuracy">94.7%</span>
                </div>
            </div>
            
            <div class="clustering-viz">
                <h4 style="color: #00ff41; margin-bottom: 8px; font-size: 11px;">üéØ Semantic Clusters</h4>
                <div class="cluster-info">
                    <div>Sports Enthusiasts: <span style="color: #ff6b6b;">2,847</span></div>
                    <div class="cluster-bar" style="width: 85%;"></div>
                </div>
                <div class="cluster-info">
                    <div>Casual Bettors: <span style="color: #4ecdc4;">1,923</span></div>
                    <div class="cluster-bar" style="width: 70%;"></div>
                </div>
                <div class="cluster-info">
                    <div>Arena Veterans: <span style="color: #ffeb3b;">892</span></div>
                    <div class="cluster-bar" style="width: 45%;"></div>
                </div>
            </div>
            
            <div class="neural-activity">
                <h4 style="color: #9c27b0; margin-bottom: 8px; font-size: 11px;">üß† Neural Activity</h4>
                <div class="activity-wave"></div>
                <div style="font-size: 10px; color: #cccccc; margin-top: 5px;">
                    Semantic processing: <span style="color: #9c27b0;">Active</span>
                </div>
            </div>
        </div>
        
        <!-- Right Analytics Panel -->
        <div class="analytics-panel">
            <h3>ü§ñ ML Algorithm Status</h3>
            
            <div class="algorithm-status">
                <div class="algorithm-item">
                    <span class="algorithm-name">K-Means Clustering</span>
                    <span class="algorithm-performance">97.3%</span>
                </div>
                <div class="algorithm-item">
                    <span class="algorithm-name">BERT Embeddings</span>
                    <span class="algorithm-performance">94.8%</span>
                </div>
                <div class="algorithm-item">
                    <span class="algorithm-name">Graph Neural Network</span>
                    <span class="algorithm-performance">92.1%</span>
                </div>
                <div class="algorithm-item">
                    <span class="algorithm-name">Sentiment Analysis</span>
                    <span class="algorithm-performance">89.7%</span>
                </div>
                <div class="algorithm-item">
                    <span class="algorithm-name">Community Detection</span>
                    <span class="algorithm-performance">96.4%</span>
                </div>
                <div class="algorithm-item">
                    <span class="algorithm-name">Entity Recognition</span>
                    <span class="algorithm-performance">93.9%</span>
                </div>
            </div>
            
            <h3>üéØ Entity Relationships</h3>
            <div style="font-size: 11px; line-height: 1.6; color: #cccccc;">
                <div>üë§ User ‚Üê‚Üí üéØ Prediction: <span style="color: #00ff41;">8,294 active</span></div>
                <div>‚öîÔ∏è Gladiator ‚Üê‚Üí üèüÔ∏è Arena: <span style="color: #ff6b6b;">1,847 battles</span></div>
                <div>üí≠ Emotion ‚Üê‚Üí üé≤ Bet: <span style="color: #4ecdc4;">12,983 links</span></div>
                <div>üè¢ Business ‚Üê‚Üí üìç Location: <span style="color: #ffeb3b;">3,472 mapped</span></div>
                <div>üìä Event ‚Üê‚Üí üß† Prediction: <span style="color: #9c27b0;">5,629 analyzed</span></div>
            </div>
            
            <h3>üî• Hot Semantic Clusters</h3>
            <div style="font-size: 10px; color: #cccccc;">
                <div style="margin: 8px 0; padding: 8px; background: rgba(255, 107, 107, 0.1); border-radius: 5px;">
                    <strong style="color: #ff6b6b;">Lakers Championship Believers</strong><br>
                    Confidence: 94.2% | Size: 2,847 users<br>
                    Keywords: championship, mamba, legacy, dynasty
                </div>
                <div style="margin: 8px 0; padding: 8px; background: rgba(78, 205, 196, 0.1); border-radius: 5px;">
                    <strong style="color: #4ecdc4;">Weekend Warriors</strong><br>
                    Confidence: 89.7% | Size: 1,923 users<br>
                    Keywords: casual, social, friends, weekend
                </div>
                <div style="margin: 8px 0; padding: 8px; background: rgba(255, 235, 59, 0.1); border-radius: 5px;">
                    <strong style="color: #ffeb3b;">Analytics Nerds</strong><br>
                    Confidence: 96.8% | Size: 892 users<br>
                    Keywords: stats, analysis, probability, strategy
                </div>
            </div>
        </div>
        
        <!-- Terminal Log -->
        <div class="terminal-log" id="terminalLog">
            <div class="log-entry info">[2024-06-18 14:23:47] üß† Semantic Intelligence System initialized</div>
            <div class="log-entry success">[2024-06-18 14:23:47] ‚úÖ Neo4j connection established: bolt://localhost:7687</div>
            <div class="log-entry info">[2024-06-18 14:23:48] üîÑ Loading entity embeddings...</div>
        </div>
    </div>
    
    <script>
        // Global state
        let dashboardState = {
            nodes: [],
            links: [],
            simulation: null,
            metrics: {
                nodeCount: 0,
                relationshipCount: 0,
                clusterCount: 0,
                queryPerf: 847,
                embeddingPerf: 12300,
                memoryUsage: 64,
                clusterAccuracy: 94.7
            }
        };
        
        // Initialize dashboard
        async function initializeDashboard() {
            const loadingSteps = [
                "Connecting to NEO4J knowledge graph...",
                "Loading BERT embeddings model...",
                "Initializing semantic clustering algorithms...",
                "Building entity relationship graph...",
                "Starting real-time analytics engine...",
                "Optimizing graph neural networks...",
                "Ready! Semantic intelligence online."
            ];
            
            for (let i = 0; i < loadingSteps.length; i++) {
                document.getElementById('loadingText').textContent = loadingSteps[i];
                await sleep(800 + Math.random() * 500);
                
                if (i < loadingSteps.length - 1) {
                    addLogEntry('info', `üîÑ ${loadingSteps[i]}`);
                }
            }
            
            addLogEntry('success', '‚úÖ All systems operational');
            document.getElementById('loadingOverlay').classList.add('hidden');
            
            // Start the main dashboard
            generateInitialGraph();
            startRealTimeUpdates();
            startQuerySimulation();
            updateMetrics();
        }
        
        // Generate initial knowledge graph
        function generateInitialGraph() {
            const nodeTypes = ['user', 'business', 'event', 'gladiator', 'prediction', 'emotion'];
            const nodeNames = {
                user: ['Alex Chen', 'Maria Lopez', 'Jordan Kim', 'Taylor Swift', 'Chris Rock'],
                business: ['Starbucks', 'Joes Pizza', 'Comedy Cellar', 'Whole Foods', 'Apple Store'],
                event: ['Lakers Game', 'Concert Tonight', 'Lunch Rush', 'Happy Hour', 'Football Sunday'],
                gladiator: ['Pizza Prophet', 'Coffee Crusader', 'Burger Baron', 'Taco Titan', 'Sushi Samurai'],
                prediction: ['Wait < 5min', 'Sold Out', 'Rain Delay', 'Price Drop', 'Celebrity Guest'],
                emotion: ['Excitement', 'Anxiety', 'Confidence', 'Disappointment', 'Euphoria']
            };
            
            // Generate nodes
            dashboardState.nodes = [];
            for (let type of nodeTypes) {
                for (let i = 0; i < 8; i++) {
                    dashboardState.nodes.push({
                        id: `${type}_${i}`,
                        type: type,
                        name: nodeNames[type][i % nodeNames[type].length],
                        strength: Math.random() * 100,
                        cluster: Math.floor(Math.random() * 4)
                    });
                }
            }
            
            // Generate links
            dashboardState.links = [];
            for (let i = 0; i < 60; i++) {
                const source = dashboardState.nodes[Math.floor(Math.random() * dashboardState.nodes.length)];
                const target = dashboardState.nodes[Math.floor(Math.random() * dashboardState.nodes.length)];
                
                if (source.id !== target.id) {
                    dashboardState.links.push({
                        source: source.id,
                        target: target.id,
                        strength: Math.random(),
                        type: Math.random() > 0.7 ? 'strong' : Math.random() > 0.5 ? 'prediction' : 'emotion'
                    });
                }
            }
            
            renderGraph();
            updateMetrics();
        }
        
        // Render the main graph
        function renderGraph() {
            const svg = d3.select('#graphSvg');
            const width = svg.node().clientWidth;
            const height = svg.node().clientHeight;
            
            svg.selectAll('*').remove();
            
            // Create simulation
            dashboardState.simulation = d3.forceSimulation(dashboardState.nodes)
                .force('link', d3.forceLink(dashboardState.links).id(d => d.id).distance(100))
                .force('charge', d3.forceManyBody().strength(-300))
                .force('center', d3.forceCenter(width / 2, height / 2))
                .force('collision', d3.forceCollide().radius(30));
            
            // Create links
            const links = svg.append('g')
                .selectAll('line')
                .data(dashboardState.links)
                .enter().append('line')
                .attr('class', d => `link ${d.type}`)
                .style('opacity', 0)
                .transition()
                .duration(2000)
                .style('opacity', 1);
            
            // Create nodes
            const nodes = svg.append('g')
                .selectAll('circle')
                .data(dashboardState.nodes)
                .enter().append('circle')
                .attr('class', d => `node ${d.type}`)
                .attr('r', d => 8 + d.strength / 10)
                .style('opacity', 0)
                .call(d3.drag()
                    .on('start', dragstarted)
                    .on('drag', dragged)
                    .on('end', dragended))
                .on('click', showNodeDetails)
                .transition()
                .duration(2000)
                .style('opacity', 1);
            
            // Add labels
            const labels = svg.append('g')
                .selectAll('text')
                .data(dashboardState.nodes)
                .enter().append('text')
                .attr('class', 'node-label')
                .text(d => d.name)
                .style('opacity', 0)
                .transition()
                .duration(2000)
                .style('opacity', 1);
            
            // Update positions on tick
            dashboardState.simulation.on('tick', () => {
                links
                    .attr('x1', d => d.source.x)
                    .attr('y1', d => d.source.y)
                    .attr('x2', d => d.target.x)
                    .attr('y2', d => d.target.y);
                
                nodes
                    .attr('cx', d => d.x)
                    .attr('cy', d => d.y);
                
                labels
                    .attr('x', d => d.x)
                    .attr('y', d => d.y + 4);
            });
        }
        
        // Drag functions
        function dragstarted(event, d) {
            if (!event.active) dashboardState.simulation.alphaTarget(0.3).restart();
            d.fx = d.x;
            d.fy = d.y;
        }
        
        function dragged(event, d) {
            d.fx = event.x;
            d.fy = event.y;
        }
        
        function dragended(event, d) {
            if (!event.active) dashboardState.simulation.alphaTarget(0);
            d.fx = null;
            d.fy = null;
        }
        
        // Show node details
        function showNodeDetails(event, d) {
            addLogEntry('info', `üéØ Node selected: ${d.name} (${d.type})`);
            addLogEntry('query', `MATCH (n:${d.type.charAt(0).toUpperCase() + d.type.slice(1)}) WHERE n.id = '${d.id}' RETURN n`);
        }
        
        // Start real-time updates
        function startRealTimeUpdates() {
            setInterval(() => {
                // Update performance metrics
                dashboardState.metrics.queryPerf = 800 + Math.floor(Math.random() * 100);
                dashboardState.metrics.embeddingPerf = 12000 + Math.floor(Math.random() * 1000);
                dashboardState.metrics.memoryUsage = 60 + Math.floor(Math.random() * 10);
                dashboardState.metrics.clusterAccuracy = 94 + Math.random() * 3;
                
                updateMetrics();
                
                // Occasionally add new nodes/relationships
                if (Math.random() < 0.1) {
                    addNewEntity();
                }
                
                // Simulate clustering updates
                if (Math.random() < 0.2) {
                    simulateClusteringUpdate();
                }
                
            }, 2000);
        }
        
        // Add new entity to graph
        function addNewEntity() {
            const types = ['user', 'prediction', 'emotion'];
            const type = types[Math.floor(Math.random() * types.length)];
            
            const newNode = {
                id: `${type}_${Date.now()}`,
                type: type,
                name: `New ${type.charAt(0).toUpperCase() + type.slice(1)}`,
                strength: Math.random() * 100,
                cluster: Math.floor(Math.random() * 4)
            };
            
            dashboardState.nodes.push(newNode);
            
            // Add some random connections
            for (let i = 0; i < 2; i++) {
                const target = dashboardState.nodes[Math.floor(Math.random() * (dashboardState.nodes.length - 1))];
                dashboardState.links.push({
                    source: newNode.id,
                    target: target.id,
                    strength: Math.random(),
                    type: 'emotion'
                });
            }
            
            addLogEntry('success', `‚ú® New ${type} entity discovered and integrated`);
            updateMetrics();
        }
        
        // Simulate clustering update
        function simulateClusteringUpdate() {
            const operations = [
                'Semantic cluster "Sports Fanatics" refined with 47 new members',
                'Emotion cluster "High Confidence" merged with "Optimistic Bettors"',
                'New semantic pattern detected: "Weekend Social Gambling"',
                'Gladiator cluster "NYC Specialists" expanded to Brooklyn venues',
                'User cluster "Analytics Enthusiasts" split into "Stats Nerds" and "Casual Researchers"'
            ];
            
            const operation = operations[Math.floor(Math.random() * operations.length)];
            addLogEntry('info', `üéØ Clustering update: ${operation}`);
            
            // Update cluster count
            dashboardState.metrics.clusterCount = Math.max(1, dashboardState.metrics.clusterCount + (Math.random() > 0.5 ? 1 : -1));
            updateMetrics();
        }
        
        // Query simulation
        function startQuerySimulation() {
            const queries = [
                {
                    query: `MATCH (u:User)-[b:BETS_ON]->(p:Prediction)
WHERE u.trust_score > 80
RETURN COUNT(DISTINCT u) as high_trust_users`,
                    result: '‚úÖ 2,847 high trust users found'
                },
                {
                    query: `MATCH (g:Gladiator)-[w:WINS]->(o:Opponent)
WITH g, COUNT(w) as wins
WHERE wins > 10
RETURN g.name, wins ORDER BY wins DESC`,
                    result: '‚úÖ 23 top gladiators ranked'
                },
                {
                    query: `MATCH (e:Emotion)-[i:INFLUENCES]->(b:Bet)
WHERE e.intensity > 7.5
RETURN e.type, AVG(b.amount) as avg_bet_amount`,
                    result: '‚úÖ High emotion bets analyzed'
                },
                {
                    query: `CALL algo.betweenness.stream('User', 'FRIENDS_WITH')
YIELD nodeId, centrality
RETURN algo.asNode(nodeId).name, centrality
ORDER BY centrality DESC LIMIT 10`,
                    result: '‚úÖ Network influencers identified'
                }
            ];
            
            setInterval(() => {
                const queryData = queries[Math.floor(Math.random() * queries.length)];
                
                // Update a random query panel
                const panelNum = Math.floor(Math.random() * 2) + 1;
                document.getElementById(`cypherQuery${panelNum}`).textContent = queryData.query;
                document.getElementById(`queryResult${panelNum}`).textContent = queryData.result;
                
                addLogEntry('query', `üîç Query executed: ${queryData.result}`);
                
            }, 5000);
        }
        
        // Update metrics display
        function updateMetrics() {
            document.getElementById('nodeCount').textContent = dashboardState.nodes.length.toLocaleString();
            document.getElementById('relationshipCount').textContent = dashboardState.links.length.toLocaleString();
            document.getElementById('clusterCount').textContent = dashboardState.metrics.clusterCount;
            document.getElementById('queryPerf').textContent = dashboardState.metrics.queryPerf.toLocaleString();
            document.getElementById('embeddingPerf').textContent = `${(dashboardState.metrics.embeddingPerf / 1000).toFixed(1)}k`;
            document.getElementById('memoryUsage').textContent = `${dashboardState.metrics.memoryUsage}%`;
            document.getElementById('clusterAccuracy').textContent = `${dashboardState.metrics.clusterAccuracy.toFixed(1)}%`;
        }
        
        // Add log entry
        function addLogEntry(type, message) {
            const log = document.getElementById('terminalLog');
            const timestamp = new Date().toISOString().replace('T', ' ').substring(0, 19);
            
            const entry = document.createElement('div');
            entry.className = `log-entry ${type}`;
            entry.textContent = `[${timestamp}] ${message}`;
            
            log.appendChild(entry);
            log.scrollTop = log.scrollHeight;
            
            // Keep only last 50 entries
            while (log.children.length > 50) {
                log.removeChild(log.firstChild);
            }
        }
        
        // Utility function
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
        
        // Initialize dashboard
        initializeDashboard();
        
        console.log('üß† Soulfra Semantic Intelligence Dashboard loaded!');
        console.log('üéØ Neo4j Knowledge Graph simulation active');
        console.log('ü§ñ Machine Learning algorithms monitoring user behavior');
        console.log('üìä Real-time semantic clustering and relationship discovery');
    </script>
</body>
</html>